Output Format
=============
GeneInsight produces a comprehensive set of output files containing the results of gene set analysis. This section describes the structure and content of these outputs.

Output Archives
---------------
The results are delivered in two separate zip archives:

1. **sphinx_build.zip** - Contains the complete interactive HTML report with all visualizations
2. **[timestamp]_analysis.zip** - Contains all data files, CSVs, and analysis results

Directory Structure
-------------------
When extracted, the output directories contain:

.. code-block:: text

    sphinx_build/
    ├── index.html # Main entry point for interactive HTML report
    ├── themes/ # Individual theme pages
    ├── visualizations/ # Interactive charts and diagrams
    ├── static/ # CSS, JavaScript, and other assets
    └── downloads/ # Downloadable result files
    
    analysis_files/
    ├── enrichment.csv # Gene enrichment data from StringDB
    ├── documents.csv # Document descriptions for topic modeling
    ├── topics.csv # Topic modeling results
    ├── prompts.csv # Generated prompts for API
    ├── api_results.csv # Results from API calls
    ├── summary.csv # Summary of topic modeling and enrichment
    ├── enriched.csv # Hypergeometric enrichment results
    ├── filtered.csv # Final filtered topics
    └── metadata.csv # Run information and parameters

File Descriptions
-----------------

enrichment.csv
^^^^^^^^^^^^^^
Contains gene enrichment data retrieved from the STRING database:

* Gene identifiers
* Associated terms and descriptions
* Statistical significance measures

documents.csv
^^^^^^^^^^^^^
The corpus of gene-specific descriptions used for topic modeling:

* Document IDs
* Gene associations
* Full text of annotations

topics.csv
^^^^^^^^^^
Results from the topic modeling phase:

* Topic IDs
* Representative terms
* Frequency and distribution information

prompts.csv
^^^^^^^^^^^
Generated prompts sent to the language model API:

* Prompt IDs
* Full text of prompts
* Associated topics

api_results.csv
^^^^^^^^^^^^^^^
Responses received from the language model API:

* Formatted biological theme descriptions
* Metadata about API calls
* Processing timestamps

summary.csv
^^^^^^^^^^^
Consolidated summary of topic modeling and enrichment results:

* Theme IDs
* Representative genes
* Statistical metrics

enriched.csv
^^^^^^^^^^^^
Results of hypergeometric enrichment analysis:

* Theme identifiers
* p-values and false discovery rates
* Enrichment scores

filtered.csv
^^^^^^^^^^^^
Final filtered topics based on statistical significance:

* Selected theme IDs
* Ranking information
* Selection criteria

metadata.csv
^^^^^^^^^^^^
Information about the analysis run:

* Tool version
* Run parameters
* Execution timestamps

Interactive HTML Report
-----------------------
The ``index.html`` file in the sphinx_build directory provides an entry point to the HTML report which delivers an interactive visualization of the analysis results.

Theme Pages
^^^^^^^^^^^
Dedicated pages for each identified theme featuring:

* Theme descriptions generated by the language model
* Associated genes with links to reference databases
* Statistical significance metrics

Gene Set Visualizations
^^^^^^^^^^^^^^^^^^^^^^^
Heatmaps and network diagrams showing:

* Gene presence across references
* Relationships between genes and biological themes
* Statistical enrichment patterns

Download Interface
^^^^^^^^^^^^^^^^^^
Interactive interface to download:

* Specific themes of interest
* Associated gene sets
* Customized subsets of results

Exploring the Results
---------------------
After downloading and extracting the archives:

1. Open the **sphinx_build/** directory and load ``index.html`` in a web browser to access the interactive report
2. Navigate to the **[timestamp]_analysis/** directory to directly access the raw data files for further analysis
3. Use the interactive report to explore visualizations and download specific subsets of results