Output Format
============
GeneInsight produces a comprehensive set of output files containing the results of gene set analysis. This section describes the structure and content of these outputs.

Directory Structure
-----------------
The output directory contains:

.. code-block:: text

    output/
    ├── index.html # Interactive HTML report
    ├── enrichment.csv # Gene enrichment data from StringDB
    ├── documents.csv # Document descriptions for topic modeling
    ├── topics.csv # Topic modeling results
    ├── prompts.csv # Generated prompts for API
    ├── api_results.csv # Results from API calls
    ├── summary.csv # Summary of topic modeling and enrichment
    ├── enriched.csv # Hypergeometric enrichment results
    ├── filtered.csv # Final filtered topics
    ├── metadata.csv # Run information and parameters
    └── geneinsight_results.zip # All results in compressed format

File Descriptions
---------------

enrichment.csv
^^^^^^^^^^^^^
Contains gene enrichment data retrieved from the STRING database:

* Gene identifiers
* Associated terms and descriptions
* Statistical significance measures

documents.csv
^^^^^^^^^^^
The corpus of gene-specific descriptions used for topic modeling:

* Document IDs
* Gene associations
* Full text of annotations

topics.csv
^^^^^^^^
Results from the topic modeling phase:

* Topic IDs
* Representative terms
* Frequency and distribution information

prompts.csv
^^^^^^^^^^
Generated prompts sent to the language model API:

* Prompt IDs
* Full text of prompts
* Associated topics

api_results.csv
^^^^^^^^^^^^^
Responses received from the language model API:

* Formatted biological theme descriptions
* Metadata about API calls
* Processing timestamps

summary.csv
^^^^^^^^^
Consolidated summary of topic modeling and enrichment results:

* Theme IDs
* Representative genes
* Statistical metrics

enriched.csv
^^^^^^^^^^
Results of hypergeometric enrichment analysis:

* Theme identifiers
* p-values and false discovery rates
* Enrichment scores

filtered.csv
^^^^^^^^^^
Final filtered topics based on statistical significance:

* Selected theme IDs
* Ranking information
* Selection criteria

metadata.csv
^^^^^^^^^^
Information about the analysis run:

* Tool version
* Run parameters
* Execution timestamps

Interactive HTML Report
---------------------
The ``index.html`` file provides a entry point to the html report which provides an interactive visualization of the analysis results.

Theme Pages
^^^^^^^^^^
Dedicated pages for each identified theme featuring:

* Theme descriptions generated by the language model
* Associated genes with links to reference databases
* Statistical significance metrics

Gene Set Visualizations
^^^^^^^^^^^^^^^^^^^^^
Heatmaps and network diagrams showing:

* Gene presence across references
* Relationships between genes and biological themes
* Statistical enrichment patterns

Download Interface
^^^^^^^^^^^^^^^
Interactive interface to download:

* Specific themes of interest
* Associated gene sets
* Customized subsets of results

Exploring the Results
------------------
After running GeneInsight, navigate to the output directory to find:

* **HTML Report**: Open ``index.html`` to view the interactive visualization
* **CSV Files**: Explore detailed results in the various output files
* **ZIP Archive**: A compressed version of all outputs for easy sharing

Understanding the Output
---------------------
The HTML report includes:

1. **Interactive Topic Map**: A visual representation of identified biological themes

.. image:: ../_static/embedding_map.png
   :width: 600
   :alt: Interactive topic map showing biological themes as a 2D embedding

2. **Gene Set Visualizations**: Heatmaps showing gene presence across references

.. image:: ../_static/heatmap.png
   :width: 600
   :alt: Heatmap visualization of gene set patterns

3. **Theme Pages and Gene-Level Information**: Detailed exploration of each identified theme

.. image:: ../_static/theme_page.png
   :width: 600
   :alt: Example theme page showing related genes and pathways


For information on how to get started with GeneInsight, please refer to the :doc:`../getting_started` guide.